<link rel="stylesheet" href="/stylesheets/mainPage/style.css">
<link rel="stylesheet" type="text/css" href="/stylesheets/loginPage/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/stylesheets/loginPage/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/stylesheets/loginPage/util.css">  
<link rel="stylesheet" type="text/css" href="/stylesheets/loginPage/main.css">  

<div class="colorlib-intro">
    <div class="container">
				<div class="row">
                    <div class="col-md-8 col-md-offset-2 text-center">
						<div class="intro">
<h1>Registra un nuevo concierto</h1>
                </div>
            </div>
        </div>
    </div>
</div>

<br>
<br>

<div class="container">

    <form action="/form" method="POST" enctype="multipart/form-data">

        <div class="form-group p-t-31 p-b-9">
            <span for="concertName" class="txt1">
                Nombre del concierto
            </span>
        </div>    
        <div class="wrap-input100 validate-input" data-validate = "Es requerido un concierto">
            <input style="font: red" type="text" class="form-control input100" id="concertName" aria-describedby="concertName" placeholder="Escribe el nombre del concierto o festival" name="name">
            <span class="focus-input100"></span>
        </div>


        <div class="form-group p-t-31 p-b-9">
            <span for="concertDate" class="txt1"> 
                Fecha del concierto/festival
            </span>
        </div>
        <div class="wrap-input100 validate-input" data-validate = "Es requerida una fecha">
            <input type="date" class="form-control input100" id="concertDate" name="date">
        </div>


        <div class="form-group p-t-31 p-b-9">
            <label for="bandsInput" class="txt1">Bands</label>
            {{!--
            <input type="band" class="form-control" id="formGroupExampleInput" placeholder="Example input" data-role="tagsinput"> --}}
            <div class="tags-input form-control wrap-input100 input100" data-name="tags-input" name="bands">
               <small id="bamdsHelp" class="form-text text-muted"></small> 
            </div>
            
        </div>

        <div class="form-group p-t-31 p-b-9">
            <span for="concertVenue" class="txt1">
                Venue
            </span>
        </div>
        <div class="wrap-input100 validate-input">  
            <input type="text" class="form-control input100" id="autocomplete" aria-describedby="venueHelp" placeholder="Enter venue" name="venueName">
            <span class="focus-input100"></span>
            <small id="venueHelp" class="form-text text-muted txt1">Search for the venue</small>
            

            <label for="" class="txt1">
                Lat:
                <input readonly type="text" id="lat" name="lat">
            </label>
            <label for="" class="txt1">
                Lng:
                <input readonly type="text" id="lng" name="lng">
            </label>
        </div>

        <div class="form-group">
            
        </div>
<br>
        <div class="form-group">

            <label for="concertRating" class="txt1">Rating</label>
            <div class="rating-container rating-lg rating-animate">
                <div class="rating-stars" title="0.4 Stars">
                    <input id="input-21b" value="0" type="text" class="rating rating-input" data-min="0" data-max="5" data-step="0.5" data-size="lg"
                        required="" title="" name="rate">
                </div>
            </div>

        </div>

        <div class="form-group">
            <label for="exampleInputPassword1" class="txt1">Photos
                <input type="file" name="photos" multiple>
            </label>
            
        </div>
        <div class="form-group txt1">
            <label><input type="checkbox" value="" id="setlist" name="setlist"> Get Setlist</label>
            {{!-- <button type="button" id="button" onclick="getSetlist()">Get Setlist!</button> --}}
        </div>
        <button type="submit" class="btn btn-primary txt1">Submit</button>
        <a href="/cards" class="btn btn-danger txt1">Cancel</a>


    </form>
</div>


<script>
    function formatDate(date) {
        var d = new Date(date),
            month = "" + (d.getMonth() + 1),
            day = "" + (d.getDate() + 1),
            year = d.getFullYear();
        if (month.length < 2) month = "0" + month;
        if (day.length < 2) day = "0" + day;
        return [day, month, year].join("-");
    }

    function getSetlist() {
        console.log('holi');
        var setlist = document.getElementById('setlist');
        var bands = document.getElementById('bandsz').value;
        var date = document.getElementById('concertDate').value;
        var rating = document.getElementById('input-21b');
        date = formatDate(date);
        //console.log(bands + date);
        //console.log('Rating: ' + rating.value);
        console.log(setlist.checked);
    }

    window.onload = function () {
        const input = document.getElementById("autocomplete");
        const lat = document.getElementById("lat");
        const lng = document.getElementById("lng");
        const dropdown = new google.maps.places.Autocomplete(input);
        dropdown.addListener("place_changed", () => {
            console.log(dropdown.getPlace());
            let place = dropdown.getPlace();
            lat.value = place.geometry.location.lat();
            lng.value = place.geometry.location.lng();
            name.value = place.name;
        })
    }


</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.js"></script>
<script src="/javascripts/star-rating.js" type="text/javascript"></script>
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" rel="stylesheet">
<script src="/javascripts/tags.js"></script> {{!--
<script src="/javascripts/setlist.js"></script> --}}